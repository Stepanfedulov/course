<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Help Desk Programmer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        function showBlock(blockId) {
            document.getElementById('welcomeBlock').style.display = 'none';
            document.getElementById('viewBlock').style.display = 'none';
            document.getElementById(blockId).style.display = 'block';
        }

        function showComment(comment) {
            var commentBlock = document.getElementById('commentBlock');
            if (commentBlock.style.display === 'none' || commentBlock.style.display === '') {
                commentBlock.innerHTML = comment;
                commentBlock.style.display = 'block';
            } else {
                commentBlock.style.display = 'none';
            }
        }
    </script>
    <link rel="stylesheet" href="css/styles.css?rnd=<?= rand(0, 99999) ?>">
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <link rel="icon" href="img/favicon-196x196.png" sizes="196x196">
</head>
<body>
    <main>
        <div class="gui">
            <div class="headergui">
                <div class="headerpadding">
                    <div class="logoheader">
                        <img class="headerimg" src="img/logo.svg">
                    </div>
                    <div class="logoutcont">
                        <a class="logout" href="index.html">Выйти</a>
                    </div>
                </div>
            </div>
            <div class="welcomeBlock" id="welcomeBlock">
                <h2>Добро пожаловать, программист!</h2>
                <h3>Здесь вы можете посмотреть заявки пользователей и изменить их статус.</h3>
                <button class="guibutton" onclick="showBlock('viewBlock')">Посмотреть заявки пользователей</button>
            </div>

            <div class="viewBlock" id="viewBlock" style="display:none;">
                <div class="myrequests">
                    <h3>Все заявки</h3>
                    <div class="tablecont" id="tableblock">
                        <table>
                            <tr>
                                <th>ID</th>
                                <th>Имя пользователя</th>
                                <th>Тема</th>
                                <th style="width:239px">Подробности</th>
                                <th style="width:370px">Статус</th>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td style='text-align:center; word-wrap:normal; max-width:300px'>Кузнецов К.К.</td>
                                <td>Ошибка в коде программы</td>
                                <td>
                                    <button class='guitbbutton' onclick="showComment('при выполнении функции calc() возникает исключение')">Посмотреть подробности</button>
                                </td>
                                <td>
                                    <form method='POST'>
                                        <input type='hidden' name='req_id' value='1'>
                                        <select name='req_status'>
                                            <option value="В работе" selected>В работе</option>
                                            <option value="Завершена">Завершена</option>
                                            <option value="Отправлена на доработку">Отправлена на доработку</option>
                                        </select>
                                        <button class='guitbbutton' type='submit'>Обновить статус</button>
                                    </form>
                                </td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td style='text-align:center; word-wrap:normal; max-width:300px'>Смирнов С.С.</td>
                                <td>Оптимизация алгоритма</td>
                                <td>
                                    <button class='guitbbutton' onclick="showComment('нужно улучшить производительность метода sortData()')">Посмотреть подробности</button>
                                </td>
                                <td>
                                    <form method='POST'>
                                        <input type='hidden' name='req_id' value='2'>
                                        <select name='req_status'>
                                            <option value="В работе" selected>В работе</option>
                                            <option value="Завершена">Завершена</option>
                                            <option value="Отправлена на доработку">Отправлена на доработку</option>
                                        </select>
                                        <button class='guitbbutton' type='submit'>Обновить статус</button>
                                    </form>
                                </td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td style='text-align:center; word-wrap:normal; max-width:300px'>Васильев В.В.</td>
                                <td>Добавление нового функционала</td>
                                <td>
                                    <button class='guitbbutton' onclick="showComment('требуется реализовать возможность экспорта данных в PDF')">Посмотреть подробности</button>
                                </td>
                                <td>
                                    <form method='POST'>
                                        <input type='hidden' name='req_id' value='3'>
                                        <select name='req_status'>
                                            <option value="В работе" selected>В работе</option>
                                            <option value="Завершена">Завершена</option>
                                            <option value="Отправлена на доработку">Отправлена на доработку</option>
                                        </select>
                                        <button class='guitbbutton' type='submit'>Обновить статус</button>
                                    </form>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="commentBlock" id="commentBlock"></div>
                </div>
            </div>
            <script>
                showBlock('welcomeBlock');
            </script>
        </div>
    </main>
    <footer>
        <p style='margin-top:6px'>Разработал: Федулов Степан Александрович</p>
    </footer>
</body>
</html>